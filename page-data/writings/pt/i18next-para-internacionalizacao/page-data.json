{"componentChunkName":"component---src-templates-blog-post-js","path":"/writings/pt/i18next-para-internacionalizacao","result":{"data":{"markdownRemark":{"html":"<p>Eu nunca me importei at√© que em um belo dia, um cliente teve essa necessidade e foi a√≠ que precisei pensar, pesquisar e aprender sobre internacionaliza√ß√£o.\nParticipei de um projeto para a copa do mundo e o conte√∫do deveria ser suportado por no m√≠nimo 3 linguas diferentes: o ingl√™s, espanhol e o portugu√™s.\nMas eu nunca tinha feito nada multilinguagem e nesse momento quase bateu o desespero.\nAcho que a pior dificuldade foi de me expressar, porque at√© ent√£o eu n√£o tinha no√ß√£o de que o termo <strong>internacionaliza√ß√£o</strong> seria a palavra chave pra isso tudo.</p>\n<p>Os primeiros questionamentos que eu me fiz foram:</p>\n<ol>\n<li>‚ÄúVou ter que fazer 3 sites diferentes?‚Äù</li>\n<li>‚ÄúVou ter mais trabalho que o normal?‚Äù</li>\n<li>‚ÄúComo eu vou pesquisar sobre alguma lib que me ajude com isso? Ser√° que existe?‚Äù</li>\n</ol>\n<p>Antes de ir adiante, vamos ver o significado da coisa segundo o dicion√°rio: </p>\n<blockquote>\n<p>Tornar-se internacional; Espalhar ou difundir por v√°rios pa√≠ses.</p>\n</blockquote>\n<p>Depois de toda essa introdu√ß√£o, finalmente apresento a voc√™s o maestro da orquestraque pode ser a solu√ß√£o para os seus problemas: O <a href=\"https://www.i18next.com/\">i18next</a>!</p>\n<p>Algumas considera√ß√µes sobre esta lib:$$</p>\n<ul>\n<li>Seu suporte n√£o √© s√≥ para JavaScript.</li>\n<li>Possui integra√ß√£o com o jQuery.</li>\n<li>Todo seu conte√∫do textual √© inserido em um JSON.</li>\n<li>Documenta√ß√£o completa, f√°cil e direta.</li>\n<li>Voc√™ pode traduzir todo e qualquer texto do seu projeto, seja ele um <code class=\"language-text\">title</code>, <code class=\"language-text\">alt</code>, ou de qualquer outro atributo.</li>\n<li>Voc√™ pode detectar a linguagem do usu√°rio e inserir o conte√∫do de acordo com seu idioma.</li>\n<li>Ativar a internacionaliza√ß√£o no clique.</li>\n</ul>\n<p>Vou descrever os passos para voc√™ conseguir chegar <a href=\"https://thulioph.github.io/i18next-internacionalizacao/\">neste resultado</a> que ser√° acess√≠vel para <strong>espanhol</strong>, <strong>ingl√™s</strong> e <strong>portugu√™s</strong>.</p>\n<h2>Como iniciar?</h2>\n<h3>Estrutura B√°sica</h3>\n<p>As tradu√ß√µes do conte√∫do dever√£o ser subpastas da pasta <strong>locales</strong> e precisam conter um arquivo <code class=\"language-text\">translation.json</code> com o json das tradu√ß√µes.\nEnt√£o para o nosso exemplo a estrutura fica desta forma:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">|_locales\n|_locales/en-US\n|_locales/en-US/translations.json\n|_locales/es\n|_locales/es/translations.json\n|_locales/pt-BR\n|_locales/pt-BR/translations.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>Configura√ß√µes b√°sicas</h4>\n<p>Para o texto da tradu√ß√£o ser inserido no local desejado voc√™ deve utilizar o atributo <code class=\"language-text\">data-i18n</code> que permite v√°rios valores, passando o objeto com chave e valor.\nCaso o conte√∫do traduzido seja um atributo, seu nome dever√° ser inserido dentro de colchetes <code class=\"language-text\">[]</code> seguido de sua posi√ß√£o no <code class=\"language-text\">JSON</code>.\nAlgo assim:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-i18n</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>link.general;[title]attr.linkGeneral<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>O HTML fica sem nenhum conte√∫do textual, pois todo conte√∫do ser√° inserido de acordo com a linguagem de forma din√¢mica.\nSeguindo os passos para o HTML, voc√™ agora est√° pronto para o JavaScript, onde √© preciso setar algumas configura√ß√µes de inicializa√ß√£o.\nAlgo como:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  i18n<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    fallbackLng<span class=\"token operator\">:</span> <span class=\"token string\">'en-US'</span>\n    <span class=\"token punctuation\">,</span>debug<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">,</span>fixLng<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">,</span>load<span class=\"token operator\">:</span> <span class=\"token string\">'current'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">translation</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-i18n]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">i18n</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> appName <span class=\"token operator\">=</span> <span class=\"token function\">translation</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app.name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>Configura√ß√£o detalhada</h4>\n<ul>\n<li>fallbackLng: fallback para quando n√£o for definida ou n√£o for localizada a linguagem do usu√°rio.</li>\n<li>debug: debug da lib, habilitando no console algumas informa√ß√µes que podem ser √∫teis para desenvolvimento.</li>\n<li>fixLng: preserva o cookie da linguagem setada pelo usu√°rio para quando o mesmo for acessar novamente.</li>\n<li>load: faz o request apenas para a linguagem definida.</li>\n<li>$(‚Äò[data-i18n]‚Äô).i18n(): todos os atributos data-i18n recebem a tradu√ß√£o.</li>\n</ul>\n<h4>Explicando</h4>\n<p>Por padr√£o a lib detecta a linguagem do navegador e insere o conte√∫do de acordo, caso o idioma detectado n√£o possua tradu√ß√£o, o que for definido em <code class=\"language-text\">fallbackLng</code> ser√° o conte√∫do inserido.</p>\n<p>Se o idioma for definido a partir de um clique ou qualquer outra intera√ß√£o voc√™ seta uma nova linguagem, preserva o cookie e inicia a tradu√ß√£o:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'elemento'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    i18n<span class=\"token punctuation\">.</span><span class=\"token function\">setLng</span><span class=\"token punctuation\">(</span><span class=\"token string\">'es'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>fixLng<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">translation</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-i18n]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">i18n</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>A lib √© realmente bastante simples, n√£o tem muito o que se fazer, seguindo os passos descritos, voc√™ consegue deixar seu conte√∫do mais acess√≠vel e em v√°rios idiomas.\n<a href=\"https://github.com/thulioph/i18next-internacionalizacao/\">Aqui</a> voc√™ encontra o reposit√≥rio com o exemplo que foi mostrado e todo o c√≥digo comentado.</p>\n<h2>Refer√™ncias</h2>\n<ul>\n<li><a href=\"https://www.i18next.com/\">https://www.i18next.com/</a></li>\n<li>Photo by <a href=\"https://unsplash.com/@kaung_myat_min?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Kaung Myat Min</a> on <a href=\"https://unsplash.com/s/photos/international?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Unsplash</a></li>\n</ul>\n<hr>\n<p>Qualquer d√∫vida, cr√≠tica ou sugest√£o voc√™ pode deixar nos coment√°rios ou entrar em contato comigo üôÇ</p>","frontmatter":{"date":"October 20, 2014","path":"/writings/pt/i18next-para-internacionalizacao","title":"i18next para Internacionaliza√ß√£o","imageSlug":"posts/i18next.jpg"},"fields":{"readingTime":{"text":"4 min read"}}}},"pageContext":{"pathSlug":"/writings/pt/i18next-para-internacionalizacao","prev":{"frontmatter":{"path":"/writings/pt/feec-lite","title":"Feec Lite"}},"next":{"frontmatter":{"path":"/writings/pt/front-in-aracaju","title":"Front In Aracaju"}}}}}