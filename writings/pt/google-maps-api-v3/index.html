<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e82f4d14c554194a6eaf.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(90deg,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}.line-highlight:before,.line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f5f2f0;font:700 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}.line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.line-numbers .line-highlight:after,.line-numbers .line-highlight:before{content:none}pre[id].linkable-line-numbers span.line-numbers-rows{pointer-events:all}pre[id].linkable-line-numbers span.line-numbers-rows>span:before{cursor:pointer}pre[id].linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:hsla(0,0%,50.2%,.2)}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:1em .5em 1em 1em}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}:root{--black:#000;--white:#fff;--gray:#fafbfc;--gray-darker:#eaeaea;--default-mg:20px;--default-pd:20px;--ff-default:"Roboto",sans-serif;--ff-secondary:"Shadows Into Light Two",cursive;--small-devices:576px;--medium-devices:768px;--large-devices:992px;--xlarge-devices:1200px}body,html{box-sizing:border-box;font-family:Roboto,sans-serif;width:100%;height:100%;scroll-behavior:smooth}body,figure,h1,h3,html,menu,ol,p,ul{margin:0;padding:0}a{color:#fff;text-decoration:none}ul{list-style-type:none}::selection{background:#000;color:#fff}#app{display:grid;grid-template-rows:minmax(80px,auto) auto 40px;grid-template-columns:auto 1fr auto}.header{grid-row:1;grid-column-start:1;grid-column-end:4}.content{grid-row:2;grid-column-start:2;grid-column-end:3}.footer{grid-row:4;grid-column-start:1;grid-column-end:4}.content{display:flex;flex-flow:column;align-items:center;min-height:calc(100vh - 180px)}@media (min-width:768px){.content{min-height:calc(100vh - 120px)}}.header{background-color:#fff;height:auto;margin-top:10px;padding:10px 0;z-index:10}@media (min-width:768px){.header{margin-top:40px;height:110px}}.header .container{justify-content:space-between;display:flex;flex-flow:column;margin:0 auto;max-width:80%;align-items:center}@media (min-width:768px){.header .container{flex-flow:row;max-width:90%}}.header .logo{width:100px;border:1px solid #000;height:100px;border-radius:100%;overflow:hidden;margin-bottom:40px}@media (min-width:768px){.header .logo{margin-top:0;margin-bottom:0;text-align:left}}.header .logo a{display:block;width:100%;height:100%;background-color:#000;transition:background .25s linear}.header .logo a:hover{background-color:#fff}.header .logo svg{margin:25px}.header ul{display:flex}.header .menu-links{justify-content:space-around}.header .menu-links a{margin-right:30px;font-size:20px;color:#000;text-transform:uppercase;font-weight:700;transition:border .25s linear 0s;border-bottom:4px solid transparent}.header .menu-links a.js-active,.header .menu-links a:hover{border-bottom-color:#000}.header .menu-links a:last-child{margin-right:0}@media (min-width:768px){.header .menu-links{justify-content:space-evenly}}.header .social-links{flex:1 1;display:none}@media (min-width:768px){.header .social-links{display:flex;justify-content:flex-end}}.header .social-links li{margin-right:10px}.header .social-links li:last-child{margin-right:0}.header .social-links a{opacity:.7;transition:opacity .25s linear 0s}.header .social-links a:hover{opacity:1}.section{min-height:100vh;height:auto;width:100%;padding-top:160px}@media (min-width:768px){.section{padding-top:80px}}.section.about,.section.hero,.section.projects{background-color:#fff}.section.talks,.section.writings{background-color:#fafbfc;border-top:1px solid #eaeaea;border-bottom:1px solid #eaeaea}.section.hero{padding-top:0}.section .container{display:flex;margin:0 auto;max-width:80%;justify-content:center}@media (min-width:768px){.section .container{max-width:90%}}@media (min-width:1200px){.section .container{max-width:1200px;padding:50px 0 0}}.blog-post-container h1,.section-title{font-weight:700;color:#000;font-size:30px;text-align:center;margin-bottom:100px}@media (min-width:768px){.blog-post-container h1,.section-title{font-size:48px}}.hero .container{height:calc(100vh - 180px);align-items:center}.hero .wrapper a{color:#000}.hero .wrapper .crossed{text-decoration:line-through;display:inline}.hero .wrapper span{font-weight:700}.hero .wrapper h2{font-size:60px;font-weight:300;margin:0;padding:0}@media (min-width:768px){.hero .wrapper h2{font-size:110px}}.hero .wrapper h4{font-size:18px;font-weight:400;margin:20px 0 0;padding:0}@media (min-width:768px){.hero .wrapper h4{font-size:24px}}.about{text-align:center}.about figure{width:120px;height:120px;border-radius:100%;overflow:hidden;border:1px solid #eaeaea;margin:0 auto 20px}@media (min-width:768px){.about figure{margin-bottom:80px}}.about figure img{max-width:100%;transition:-webkit-filter .25s linear 0s;transition:filter .25s linear 0s;transition:filter .25s linear 0s,-webkit-filter .25s linear 0s}.about figure img:hover{-webkit-filter:grayscale(1);filter:grayscale(1)}.about p{color:#000;font-family:Shadows Into Light Two,cursive;font-size:20px;text-align:center;margin-bottom:10px;text-shadow:0 1px 0 rgba(0,0,0,.4)}.about p:last-child{margin-bottom:0}@media (min-width:768px){.about p{font-size:36px;letter-spacing:1px}}.about a{color:#000;font-weight:400;margin-top:20px;display:inline-block;font-size:18px}.about a,.about a:hover{text-decoration:underline}@media (min-width:768px){.about a{margin-top:80px;text-decoration:none}}.extra-social{margin:60px 0}.extra-social li{display:flex;flex-flow:column;margin-bottom:20px}.extra-social a{display:inherit;align-items:center}.extra-social p{color:#000}.extra-social .icon{width:32px;height:32px;border-radius:100%;overflow:hidden;margin:0 20px 0 0}.description-list{list-style-type:disc;padding-left:60px}.about-list{width:100%;margin:0 auto}.projects .wrapper,.talks .wrapper,.writings .wrapper{height:calc(100vh - 180px);display:flex;flex-flow:column;justify-content:space-between;align-items:center;width:100%}@media (min-width:768px){.projects .wrapper,.talks .wrapper,.writings .wrapper{height:calc(100vh - 180px)}}.projects .see-all,.talks .see-all,.writings .see-all{color:#000;text-decoration:underline;font-size:18px}.projects-list,.talks-list,.writings-list{width:100%}@media (min-width:768px){.projects-list,.talks-list,.writings-list{width:60%;margin:0 auto}}.projects-list li,.talks-list li,.writings-list li{list-style-type:none;border-bottom:1px solid #eaeaea;padding:15px 0;margin-bottom:15px}.projects-list li:last-child,.talks-list li:last-child,.writings-list li:last-child{border-bottom:none}.projects-list a,.talks-list a,.writings-list a{color:#000;font-size:20px;font-weight:700;text-transform:uppercase;display:flex;justify-content:space-between;align-items:baseline;flex-flow:column}@media (min-width:768px){.projects-list a,.talks-list a,.writings-list a{flex-flow:row;font-size:26px}}.projects-list p,.talks-list p,.writings-list p{display:inline;text-align:left}.projects-list span,.talks-list span,.writings-list span{font-size:18px;font-weight:300;text-align:right}.projects-list span.post-lang,.talks-list span.post-lang,.writings-list span.post-lang{background-color:#eaeaea;padding:5px;font-size:12px;display:inline-block;margin-left:20px;vertical-align:middle;visibility:hidden}@media (min-width:768px){.projects-list span.post-lang,.talks-list span.post-lang,.writings-list span.post-lang{visibility:visible}}.projects-list a{flex-flow:column}.projects-list a:hover span{background:#000;color:#fff}.projects-list a:hover p{font-weight:400}.projects-list h3{margin-bottom:20px}.projects-list p{display:block;font-size:16px;font-weight:100}.projects{padding-bottom:130px}.spinner{display:inline-block;position:relative;width:80px;height:80px}.spinner div{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#000;animation-timing-function:cubic-bezier(0,1,1,0)}.spinner div:first-child{left:8px;animation:spinner01 .6s infinite}.spinner div:nth-child(2){left:8px;animation:spinner02 .6s infinite}.spinner div:nth-child(3){left:32px;animation:spinner02 .6s infinite}.spinner div:nth-child(4){left:56px;animation:spinner03 .6s infinite}@keyframes spinner01{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes spinner02{0%{transform:translate(0)}to{transform:translate(24px)}}@keyframes spinner03{0%{transform:scale(1)}to{transform:scale(0)}}.footer{display:flex;flex-flow:column;margin-bottom:40px}.footer .container{width:80%;margin:0 auto}@media (min-width:768px){.footer{margin-bottom:80px}}@keyframes pulse{0%{transform:scale(1)}to{transform:scale(.8)}}.footer-menu{padding:60px 0}.footer-menu ul{display:flex;flex-flow:column;justify-content:space-evenly;margin-bottom:40px}@media (min-width:768px){.footer-menu ul{flex-flow:row}}.footer-menu h4{font-size:26px;font-weight:700;margin:0 0 5px}.footer-menu p{font-size:22px;font-weight:100}.footer-menu a{color:#000;margin-bottom:30px}.footer-menu a:last-child{margin-bottom:0}@media (min-width:768px){.footer-menu a{margin-right:30px;margin-bottom:0}.footer-menu a:last-child{margin-right:0}}.copyright{margin-bottom:20px}.copyright p{font-weight:700;font-size:20px}.copyright p,.since,.since small{text-align:center}.since small{color:#000;display:block;width:100%;font-size:14px}.since small a{cursor:help;color:#000}.since span{color:red;display:inline-block;animation:pulse 1s infinite;animation-play-state:running}.since span:hover{animation-play-state:paused}.blog-post-container blockquote:after,.blog-post-container blockquote:before{width:32px;height:32px;position:absolute;font-size:60px}.blog-post-container{background-color:#fff;width:100%;margin-bottom:200px}.blog-post-container h1{margin-top:50px}.blog-post-container .blog-post-header{text-align:center}.blog-post-container .blog-post-content{width:80%;margin:0 auto}@media (min-width:768px){.blog-post-container .blog-post-content{max-width:980px}}.blog-post-container a{color:#000;word-break:break-all;padding:2px 5px;border-bottom:4px solid #eaeaea;line-height:30px;transition:background .25s linear 0s}.blog-post-container a:hover{background-color:#eaeaea}.blog-post-container p{font-size:18px;line-height:36px;display:block;margin-bottom:20px}.blog-post-container p img{margin:30px auto}.blog-post-container h2{padding-bottom:5px;border-bottom:2px solid #eaeaea}.blog-post-container h3{text-transform:uppercase}.blog-post-container h2,.blog-post-container h3{margin:40px 0 20px}.blog-post-container em{font-size:12px;font-style:normal;display:block;text-align:center}.blog-post-container h4{margin:40px 0 20px}.blog-post-container hr{margin:100px 0 50px}.blog-post-container img{max-width:100%;margin:0 auto;display:block}.blog-post-container blockquote{display:block;padding:20px 30px;position:relative;text-align:center;margin:60px auto;width:60%}.blog-post-container blockquote:before{content:"\201C";left:0;top:0}.blog-post-container blockquote:after{content:"\201D";right:0;bottom:0}.blog-post-container blockquote p{margin-bottom:0;word-spacing:5px;font-size:26px;font-family:Shadows Into Light Two,cursive}@media (min-width:768px){.blog-post-container ul{margin-left:50px}}.blog-post-container ul li{list-style-type:circle;margin-bottom:10px}.blog-post-container ul li:last-child{margin-bottom:0}.blog-post-actions{display:flex;flex-flow:column}@media (min-width:768px){.blog-post-actions{flex-flow:row}}.blog-post-actions .actions-link{background-color:#eaeaea;flex:1 1;padding:24px;text-decoration:none;border-radius:8px;border:1px solid #fafbfc;margin-bottom:20px;transition:background-color .25s linear 0s}.blog-post-actions .actions-link:hover{background-color:#fafbfc;border-color:#eaeaea}@media (min-width:768px){.blog-post-actions .actions-link{margin-bottom:0;margin-right:24px}}.blog-post-actions .label{display:block;margin-bottom:5px}.blog-post-actions .title{font-weight:800;margin-bottom:0}.gatsby-image-wrapper{height:auto}@media (min-width:768px){.gatsby-image-wrapper{height:500px}}@media (max-width:1200px){.gatsby-image-wrapper{height:auto}}.section-intro{background-color:#000;width:100%;display:flex;height:250px;overflow:hidden;flex-flow:column;text-align:center;justify-content:center}@media (min-width:768px){.section-intro{height:325px}}.blog-post-container .section-intro h1,.section-intro .blog-post-container h1,.section-intro .section-title{margin:0 0 20px;color:#fff}.section-intro .section-description{font-size:20px;font-weight:300;color:#fff}.section-intro ::selection{background:#fff;color:#000}.page-container{width:80%;margin:60px auto}@media (min-width:992px){.page-container{margin:120px auto}}.page-container img{width:100%;margin-bottom:40px}.page-container .description-text{font-family:Shadows Into Light Two,cursive;font-size:26px}.page-container .description-text a{color:#000;text-decoration:underline;font-weight:600}</style><meta name="generator" content="Gatsby 2.22.20"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Writings - API Google Maps V3 | Thulio Philipe, Senior Software Developer</title><meta data-react-helmet="true" name="description" content="
    I have been working as a software developer for almost 10 years. I already worked with ad agencies, startups,software studios and also as a consultant, always focused on the Front-End side (UI). My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality I like to share my knowledge through &lt;a href=&quot;https://speakerdeck.com/thulioph&quot;&gt;talks&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@thulioph_&quot;&gt;articles&lt;/a&gt; and all repositories on my &lt;a href=&quot;https://github.com/thulioph&quot;&gt;Github&lt;/a&gt; are open. My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality.
  "/><meta data-react-helmet="true" property="og:title" content="Writings - API Google Maps V3"/><meta data-react-helmet="true" property="og:description" content="
    I have been working as a software developer for almost 10 years. I already worked with ad agencies, startups,software studios and also as a consultant, always focused on the Front-End side (UI). My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality I like to share my knowledge through &lt;a href=&quot;https://speakerdeck.com/thulioph&quot;&gt;talks&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@thulioph_&quot;&gt;articles&lt;/a&gt; and all repositories on my &lt;a href=&quot;https://github.com/thulioph&quot;&gt;Github&lt;/a&gt; are open. My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality.
  "/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="thulioph"/><meta data-react-helmet="true" name="twitter:title" content="Writings - API Google Maps V3"/><meta data-react-helmet="true" name="twitter:description" content="
    I have been working as a software developer for almost 10 years. I already worked with ad agencies, startups,software studios and also as a consultant, always focused on the Front-End side (UI). My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality I like to share my knowledge through &lt;a href=&quot;https://speakerdeck.com/thulioph&quot;&gt;talks&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@thulioph_&quot;&gt;articles&lt;/a&gt; and all repositories on my &lt;a href=&quot;https://github.com/thulioph&quot;&gt;Github&lt;/a&gt; are open. My current focus is on WebApps and some topics that guide my studies are Performance, Security, User Engagement and Code Quality.
  "/><link rel="icon" href="/favicon-32x32.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=edf3d310d67f8284a562bc3a58c3e761"/><style data-styled="" data-styled-version="5.3.3">.XzYAR{position:fixed;top:80px;right:0;z-index:20;visibility:hidden;}/*!sc*/
data-styled.g6[id="shared__SwitchTheme-sc-10jo2li-5"]{content:"XzYAR,"}/*!sc*/
body{background-color:#FFFFFF;-webkit-transition:background .25s linear;transition:background .25s linear;}/*!sc*/
data-styled.g7[id="sc-global-gjYKVk1"]{content:"sc-global-gjYKVk1,"}/*!sc*/
</style><link as="script" rel="preload" href="/webpack-runtime-4d48b1ed4dd3b6073575.js"/><link as="script" rel="preload" href="/framework-0204bf4e920e001ced67.js"/><link as="script" rel="preload" href="/app-0e97724caed6e63e6806.js"/><link as="script" rel="preload" href="/styles-9b6f388623a2ec93d35f.js"/><link as="script" rel="preload" href="/1dc921d01d6e70a2778fc7ab9300883edc8de929-0b0d0c28eb262f9e2bad.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-18bb4fd6e14523b108f8.js"/><link as="fetch" rel="preload" href="/page-data/writings/pt/google-maps-api-v3/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><button class="shared__SwitchTheme-sc-10jo2li-5 XzYAR">change theme color</button><div id="app"><header class="header"><div class="container"><h1 class="logo"><a href="/"><svg width="53" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="52.9851" height="52.9851" rx="10" fill="white"></rect><rect x="1" y="1" width="50" height="50" rx="10" fill="black"></rect><path d="M24.6914 19.7852H19.4648V34H15.9492V19.7852H10.793V16.9375H24.6914V19.7852ZM30.2227 27.9883V34H26.707V16.9375H33.3633C34.6445 16.9375 35.7695 17.1719 36.7383 17.6406C37.7148 18.1094 38.4648 18.7773 38.9883 19.6445C39.5117 20.5039 39.7734 21.4844 39.7734 22.5859C39.7734 24.2578 39.1992 25.5781 38.0508 26.5469C36.9102 27.5078 35.3281 27.9883 33.3047 27.9883H30.2227ZM30.2227 25.1406H33.3633C34.293 25.1406 35 24.9219 35.4844 24.4844C35.9766 24.0469 36.2227 23.4219 36.2227 22.6094C36.2227 21.7734 35.9766 21.0977 35.4844 20.582C34.9922 20.0664 34.3125 19.8008 33.4453 19.7852H30.2227V25.1406Z" fill="white"></path></svg></a></h1><menu class="menu"><ul class="menu-links"><a href="/about">About me</a><a href="/writings">Blog</a></ul></menu></div></header><main class="content"><section class="blog-post-container"><div class="blog-post"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGVtLprNGgf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBERIhIv/aAAgBAQABBQLNPC2dgVIrI6ev/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/AaF//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECIf/aAAgBAgEBPwFyzT//xAAXEAEAAwAAAAAAAAAAAAAAAAABABEg/9oACAEBAAY/AqIjn//EABkQAAMBAQEAAAAAAAAAAAAAAAABESExcf/aAAgBAQABPyHrcfKZy00TCWCiEb6KrT//2gAMAwEAAgADAAAAEOAv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxBW1DlP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxCSoWT/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMVFhQYGh/9oACAEBAAE/EFva5ij3EVWqLx1LCQVQpk6iVluj4QU3HC4pl68FT//Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3ed647f3096d7b4f9fba176002f8e2c8/9dc27/api-google-maps-cover.jpg 300w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/4fe8c/api-google-maps-cover.jpg 600w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/47498/api-google-maps-cover.jpg 1200w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/52258/api-google-maps-cover.jpg 1800w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/d8255/api-google-maps-cover.jpg 1920w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/3ed647f3096d7b4f9fba176002f8e2c8/9dc27/api-google-maps-cover.jpg 300w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/4fe8c/api-google-maps-cover.jpg 600w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/47498/api-google-maps-cover.jpg 1200w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/52258/api-google-maps-cover.jpg 1800w,
/static/3ed647f3096d7b4f9fba176002f8e2c8/d8255/api-google-maps-cover.jpg 1920w" src="/static/3ed647f3096d7b4f9fba176002f8e2c8/47498/api-google-maps-cover.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><section class="blog-post-header"><h5>January 10, 2014<!-- --> | <!-- -->12 min read</h5><h1>API Google Maps V3</h1></section><div class="blog-post-content"><p>Neste post irei falar um pouco sobre a <a href="https://developers.google.com/maps/documentation/javascript/?hl=pt-BR">API Google Maps V3</a>, que sofreu atualizações e veio com algumas melhorias e recursos adicionais para dispositivos móveis e desktops.</p>
<p>No último projeto que participei, o designer incluiu no layout um mapa com width: 100%. Até ai nada demais, não é? Fui no Google Maps, digitei o endereço do local e incorporei o mapa ao meu projeto com aquele iframe lindo cheio de tags inúteis. Não é errado usar o embed do Google. É simples de incorporar no seu projeto, é relativamente fácil de manipular e deixar as dimensões do jeito que quiser, mas o código não é aquela coisa linda.</p>
<p>Vamos ao que interessa. Irei descrever abaixo o passo a passo de como eu cheguei <a href="https://thulioph.github.io/mapa/">neste resultado</a>. Depois de ler este post você conseguirá brincar bastante, personalizando o quanto quiser o seu mapa.</p>
<h1>HTML</h1>
<p>No HTML eu criei uma div que receberá o mapa.</p>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mapa<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h1>CSS</h1>
<p>Estilizei minha div determinando uma largura, altura e uma borda para melhor visualizá-la.</p>
<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">#mapa</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> 
  <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span> 
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h1>JS</h1>
<p>Criei um arquivo com o nome de <strong>mapa.js</strong> onde terá todas as configurações e parâmetros do mapa e executei a chamada no html, que agora está com essa cara:</p>
<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token name">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”pt,BR”</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”UTF-8”</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>API Google Maps V3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>css/mapa.css<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”js/mapa.js”</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”mapa”</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2>Criando minha chave API</h2>
<p>Para começar a brincar será preciso criar uma chave de API, de acordo com as normas do Google, esta chave é necessária para suas aplicações serem monitoradas e terem um “cadastro”, assim o google poderá entrar em contato com você com relação a sua aplicação caso seja necessário. Como crio uma chave?</p>
<ol>
<li>Entre no site de <a href="">Console de APIs</a></li>
<li>Clique no lado esquerdo em <strong>Serviços</strong></li>
<li>Ative o serviço <strong>API do Google Maps v3</strong></li>
<li>No menu esquerdo clique no link <strong>acesso á api</strong>, a chave de acesso estará disponível nesta página na sessão <strong>Acesso Simples a API</strong>.</li>
</ol>
<h2>Exibindo um mapa simples</h2>
<p>Agora que você já tem uma chave pode iniciar a brincadeira, e a primeira coisa a se fazer é mostrar o mapa do local no html. Como funciona?</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token comment">// Exibir mapa;</span>
  <span class="token keyword">var</span> myLatlng <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>LatLng</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">8.0631495</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">34.87131120000004</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> mapOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  zoom<span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  center<span class="token operator">:</span> myLatlng<span class="token punctuation">,</span>
  mapTypeId<span class="token operator">:</span> google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>MapTypeId<span class="token punctuation">.</span><span class="token constant">ROADMAP</span>
<span class="token punctuation">}</span>

<span class="token comment">// Exibir o mapa na div #mapa;</span>
  <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>“mapa”<span class="token punctuation">)</span><span class="token punctuation">,</span> mapOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>O que foi feito?</p>
<h4>initialize()</h4>
<p>Função que engloba todos os parâmetros e configurações do mapa.</p>
<h4>myLatlng</h4>
<p>Variável onde passo a latitude, longitude (nesta ordem) do local do mapa.</p>
<h4>mapOptions</h4>
<p>Objeto onde contém as variáveis de inicialização do mapa.</p>
<h4>zoom</h4>
<p>Define a resolução inicial do mapa, o quanto perto ou longe ele será, os valores podem ir de 0 até qualquer número.</p>
<h4>center</h4>
<p>Define que o mapa será em um ponto específico, ponto este passado na variável <strong>myLatlng</strong>.</p>
<h4>mapTypeId</h4>
<p>Define o tipo de mapa que será exibido: <strong>ROADMAP</strong> mapa padrão, <strong>SATELLITE</strong> blocos fotográficos, <strong>HYBRID</strong> rodovias, cidades, etc.., <strong>TERRAIN</strong> exibe montanhas, rios, etc..</p>
<h4>map</h4>
<p>Variável, atribui a ela um novo objeto <strong>Map</strong> passando as opções definidas no <strong>mapOptions</strong>;</p>
<p>Para o mapa aparecer de fato no seu projeto, é preciso inserir o script da api do google maps, mas não vou declarar no html o script vou inseri-lo no meu <strong>mapa.js</strong> onde ele será carregado de forma assíncrona, melhorando o desempenho. Como faz?</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Função para carregamento assíncrono</span>
  <span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>“script”<span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>type <span class="token operator">=</span> “text<span class="token operator">/</span>javascript”<span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span>”https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maps<span class="token punctuation">.</span>googleapis<span class="token punctuation">.</span>com<span class="token operator">/</span>maps<span class="token operator">/</span>api<span class="token operator">/</span>js<span class="token operator">?</span>key<span class="token operator">=</span><span class="token constant">SUA_API_KEY</span><span class="token operator">&amp;</span>sensor<span class="token operator">=</span>true_or_false<span class="token operator">&amp;</span>callback<span class="token operator">=</span>initialize”<span class="token punctuation">;</span>

  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

  window<span class="token punctuation">.</span>onload <span class="token operator">=</span> loadScript<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>O que foi feito?</p>
<h4>loadScript</h4>
<p>Função que faz este procedimento, ela cria através do js a tag script no seu documento html com todos os parâmetros passados abaixo.
Criei um elemento script definindo o <strong>type</strong> e o <strong>src</strong> do mesmo.</p>
<blockquote>
<p>Para os parâmetros do <strong>script.src</strong> onde em <code class="language-text">key</code> você terá que inserir a sua chave de API, em <code class="language-text">sensor=true/false</code> você informa se sua aplicação usa algum sensor para determinar a localização do usuário gps e em <code class="language-text">callback=initialize</code> você instrui a api para só executar a função <code class="language-text">initialize()</code> após a api ser totalmente carregada.</p>
</blockquote>
<p>Até agora você conseguiu mostrar o mapa na div que foi declarada no html e carregou de forma assíncrona a API do Google Maps, está duvidando?
Veja como ficou o <a href="https://gist.github.com/thulioph/8150735">código até aqui</a> e teste na sua aplicação. \o/</p>
<h2>Modificando os controles do usuário</h2>
<p>Quando acessamos algum mapa no <a href="https://www.google.com.br/maps/preview">Google Maps</a> ele nos mostra alguns controles como: <strong>controle de zoom</strong>, <strong>panorâmico</strong>, <strong>controle de escala</strong>, <strong>controle de giro</strong> e <strong>mapa da visão geral</strong>, mas você pode personalizar e escolher o que quer disponibilizar para seu usuário. Caso não queira personalizar nada e deixar seu usuário com todas as configurações padrão, possibilitando que o Google futuramente adicione mais controles, não especifique nada, se você se parece comigo e gosta de “ser do contra” no bom sentido rsrs e quer personalizar, vamos lá!</p>
<p>Para desabilitar todas as configurações automáticas do Google Maps defina a propriedade <code class="language-text">disableDefaultUI: true</code> no objeto <code class="language-text">Map</code> options.
Você também pode escolher quais controles seu usuário terá acesso, os controles só aceitam valores <strong>boolean</strong> e todos definidos dentro de <code class="language-text">Map</code> options, esses controles são:</p>
<h4>panControl</h4>
<p>Controle Panorâmico, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<h4>zoomControl</h4>
<p>Controle de zoom, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<h4>mapTypeControl</h4>
<p>Controle de tipo de mapa, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<h4>scaleControl</h4>
<p>Controle de escala, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<h4>streetViewControl</h4>
<p>Controle do street view, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<h4>overviewMapControl</h4>
<p>Controle da visão geral, seus valores são <code class="language-text">true</code> or <code class="language-text">false</code>.</p>
<p>No meu exemplo eu desativei o <strong>controle panorâmico</strong> e agora meu <code class="language-text">mapOptions</code> ficou desta forma:</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">var</span> mapOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  zoom<span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  center<span class="token operator">:</span> myLatlng<span class="token punctuation">,</span>
  panControl<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  mapTypeId<span class="token operator">:</span> google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>MapTypeId<span class="token punctuation">.</span><span class="token constant">ROADMAP</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Até este momento, você já consegue visualizar o mapa e escolher quais controles seu usuário terá acesso.
Não duvide, apenas <a href="https://gist.github.com/thulioph/8151176">veja como está ficando</a> e teste! \o</p>
<h2>Inserindo Pin Personalizado</h2>
<p>O marcador do Google Maps é padrão, e você pode alterá-lo e inserir um pin personalizado e dar um efeito a ele.
Imagine que você quer colocar no seu site pessoal um mapa do bairro onde você mora e marcar a sua casa com um pin que será uma imagem sua pra que isso? rsrs vamos lá!</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Marcador personalizado;</span>
  <span class="token keyword">var</span> image <span class="token operator">=</span> ‘https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdn1<span class="token punctuation">.</span>iconfinder<span class="token punctuation">.</span>com<span class="token operator">/</span>data<span class="token operator">/</span>icons<span class="token operator">/</span>gpsmapicons<span class="token operator">/</span>blue<span class="token operator">/</span>gpsmapicons01<span class="token punctuation">.</span>png’<span class="token punctuation">;</span>
  <span class="token keyword">var</span> marcadorPersonalizado <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  position<span class="token operator">:</span> myLatlng<span class="token punctuation">,</span>
  map<span class="token operator">:</span> map<span class="token punctuation">,</span>
  icon<span class="token operator">:</span> image<span class="token punctuation">,</span>
  title<span class="token operator">:</span> ‘Marco Zero <span class="token operator">-</span> Recife<span class="token operator">/</span><span class="token constant">PE</span>’<span class="token punctuation">,</span>
  animation<span class="token operator">:</span> google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>Animation<span class="token punctuation">.</span><span class="token constant">DROP</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>O que foi feito?</p>
<h4>new google.maps.Marker</h4>
<p>O construtor capaz de fazer isto.</p>
<h4>marcadorPersonalizado</h4>
<p>Variável que recebe algumas propriedades:</p>
<ul>
<li>position: especifica a localização do marcador e como eu quero que ele fique na minha localização, informo a variável que contém estas informações <strong>myLatlng</strong>.</li>
<li>map: Especifica onde o marcador vai ser posicionado. Caso eu utilize o pin em mais algum local, criei uma variável <strong>image</strong> informando o caminho do meu pin. (valor opcional)</li>
<li>icon: Especifica a imagem que será o marcador, aqui você inclui o caminho da imagem podendo ser absoluto ou relativo. A própria api irá redimensionar a imagem para o tamanho padrão.</li>
<li>title: Especifica o texto que irá aparecer ao encostar o mouse em cima do pin.</li>
<li>animation: Define alguma animação já definida pela api do google maps, os possíveis valores são <strong>DROP</strong> o marcador “cai do céu” para o local indicado e <strong>BOUNCE</strong> o marcador fica pulando no local indicado.</li>
</ul>
<p>Até aqui você está mostrando o mapa, personalizando os controles e modificando o pin para um de seu gosto e de quebra ainda consegue animá-los.
<a href="https://gist.github.com/thulioph/8151788">Veja como está ficando</a> até agora. /o/</p>
<h2>Janela de informações no mapa</h2>
<p>Em alguns mapas quando o usuário clica no pin do local é aberto uma espécie de balão de texto sobre aquele pin, com algumas informações tipo telefone, e-mail, ou qualquer coisa do gênero. Esta “janela” que se abre é chamada de janela de informações ou <code class="language-text">InfoWindow</code> nome bastante óbvio rsrs, agora vamos inseri-la no nosso mapa. Dando continuidade ao exemplo anterior, agora você quer que quando o usuário clique na sua foto do mapa, apareça seus dados para contato, e-mail, telefone, etc. Mãos a obra!</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Parâmetros do texto que será exibido no clique;</span>
  <span class="token keyword">var</span> contentString <span class="token operator">=</span> ‘<span class="token operator">&lt;</span>h2<span class="token operator">></span>Marco Zero<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>’ <span class="token operator">+</span> ‘<span class="token operator">&lt;</span>p<span class="token operator">></span>Praça Rio Branco<span class="token punctuation">,</span> Recife<span class="token operator">/</span><span class="token constant">PE</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>’ <span class="token operator">+</span> ‘<span class="token operator">&lt;</span>a href<span class="token operator">=</span>”https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>pt<span class="token punctuation">.</span>wikipedia<span class="token punctuation">.</span>org<span class="token operator">/</span>wiki<span class="token operator">/</span>Pra<span class="token operator">%</span><span class="token constant">C3</span><span class="token operator">%</span><span class="token function">A7a_Rio_Branco_</span><span class="token punctuation">(</span>Recife<span class="token punctuation">)</span>” target<span class="token operator">=</span>”_blank”<span class="token operator">></span>clique aqui para mais informações<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>’<span class="token punctuation">;</span>

  <span class="token keyword">var</span> infowindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content<span class="token operator">:</span> contentString<span class="token punctuation">,</span>
  maxWidth<span class="token operator">:</span> <span class="token number">700</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Exibir texto ao clicar no pin;</span>
google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>marcadorPersonalizado<span class="token punctuation">,</span> ‘click’<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  infowindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>marcadorPersonalizado<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>O que foi feito?</p>
<h4>new google.maps.InfoWindow</h4>
<p>Realiza toda a mágica.</p>
<h4>content</h4>
<p>Deverá ter uma string de texto ou nó no DOM para exibir na janela. Aqui dentro será inserido o conteúdo que você deseja que apareça no balão de informações. Caso queira utilizar esta string em outro local, criei uma variável com o nome <code class="language-text">contentString</code> onde inseri as informações do balão.</p>
<h4>maxWidth</h4>
<p>Especifica em pixels a largura máxima do balão de informações. Por padrão a janela se expande para incluir o conteúdo e o texto é quebrado automaticamente, quando se aplica um valor no <code class="language-text">maxWidth</code> você força um determinado tamanho para ela.</p>
<blockquote>
<p>É preciso atribuir um evento ao método <code class="language-text">infowindow.open</code> caso contrário ele não será aberto no clique.
O <code class="language-text">google.maps.event.addListener</code> adiciona um evento de ‘click’ ao <code class="language-text">marcadorPersonalizado</code>, isso irá disparar o método <code class="language-text">infowindow.open</code> no <code class="language-text">map</code> e no <code class="language-text">marcadorPersonalizado</code>.
Agora quando você clicar no pin irá abrir o balão de informações com o conteúdo da variável <code class="language-text">contentString</code>.</p>
</blockquote>
<p>Mais um nível e esse foi tranquilo hein? Agora você já está mostrando o mapa, personalizando os controles e o pin, animando o pin e inseriu um balão de informações no clique do usuário.
Confere <a href="https://gist.github.com/thulioph/8152405">como está ficando</a> o código e vamos para o último passo! \o\ /o/</p>
<h2>Modificando a cor do mapa</h2>
<p>Pra completar o design do seu site, você queria pintar o mapa do seu bairro com sua cor favorita que é azul, para isso você precisará criar seu estilo e para inserir um estilo personalizado no seu mapa você precisa saber como é a matriz de estilos padrão para quando combinar os estilos obter o resultado que deseja. Vamos lá?</p>
<h4>featureType</h4>
<p>Especifica o tipo de mapa.</p>
<h4>elementType</h4>
<p>Especifica o tipo de elemento que será exibido no mapa, os valores suportados são: </p>
<ul>
<li>geometry: todos os elementos geométricos</li>
<li>geometry.fill: seleciona apenas o preenchimento da geometria </li>
<li>geometry.stroke: seleciona apenas a textura da geometria</li>
<li>labels: seleciona apenas rótulos textuais</li>
<li>labels.icon: seleciona apenas o ícone do rótulo</li>
<li>labels.text seleciona apenas o texto do rótulo</li>
<li>labels.text.fill seleciona apenas o preenchimento do rótulo</li>
<li>labels.text.stroke seleciona apenas a textura do texto</li>
</ul>
<h4>stylers</h4>
<p>É desta combinação de estilos que a cor irá se originar, os valores que você pode trabalhar são:</p>
<ul>
<li>hue: String hexadecimal RGB que indicará a cor básica.</li>
<li>lightness: Indica o brilho do elemento, valores negativos aumentam a escuridão, este valor varia de -100 e 100.</li>
<li>saturation: Intensidade da cor básica a ser aplicada, este valor varia de -100 e 100.</li>
<li>gamma: Modificam a luminosidade das matizes, utilizados para modificar o contraste dos elementos, este valor varia entre 0.01 e 10.0.</li>
<li>inverse_lightness: Se <code class="language-text">true</code>, inverte a luminosidade existente.</li>
<li>visibility: <code class="language-text">on</code>, <code class="language-text">off</code> ou <code class="language-text">simplified</code>, indica como um elemento aparece no mapa.</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token comment">// Criando um array com os estilos</span>
<span class="token keyword">var</span> styles <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
  stylers<span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> hue<span class="token operator">:</span> “#<span class="token number">41</span>a7d5” <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> saturation<span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> lightness<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> gamma<span class="token operator">:</span> <span class="token number">1.51</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span>
  featureType<span class="token operator">:</span> “road”<span class="token punctuation">,</span>
  elementType<span class="token operator">:</span> “geometry”<span class="token punctuation">,</span>
  stylers<span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> lightness<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> visibility<span class="token operator">:</span> “simplified” <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span>
  featureType<span class="token operator">:</span> “road”<span class="token punctuation">,</span>
  elementType<span class="token operator">:</span> “labels”
 <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>O que foi feito?</p>
<p>Criei uma matriz de estilos descrita acima, que nada mais é do que um array com os estilos do mapa, onde neste array é passado as cores e os estilos para exibição.
Agora crio um novo objeto <code class="language-text">google.maps.StyledMapType</code> passando a <strong>matriz que foi criada</strong> e um nome para o novo tipo de mapa.</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">var</span> styledMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>StyledMapType</span><span class="token punctuation">(</span>styles<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> “Mapa Style”
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Crie o objeto do mapa e nas opções do mapa <code class="language-text">mapOptions</code> inclua um identificador para o novo tipo de mapa <code class="language-text">map_style</code>.
Isto irá possibilitar o usuário a visualizar o mapa tradicional do Google <code class="language-text">google.maps.MapTypeId.ROADMAP</code> e o seu mapa <code class="language-text">map_style</code>.
Para visualizar isto, observe no canto superior direito do mapa, se você desejar só disponibilizar o seu tipo de mapa, é só em <code class="language-text">mapTypeIds</code> deixar o identificador do seu mapa.</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">  mapTypeControlOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    mapTypeIds<span class="token operator">:</span> <span class="token punctuation">[</span>google<span class="token punctuation">.</span>maps<span class="token punctuation">.</span>MapTypeId<span class="token punctuation">.</span><span class="token constant">ROADMAP</span><span class="token punctuation">,</span> ‘map_style’<span class="token punctuation">]</span>
  <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Associe o estilo do mapa com o <strong>MapTypeId</strong>.</p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript">  map<span class="token punctuation">.</span>mapTypes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>‘map_style’<span class="token punctuation">,</span> styledMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  map<span class="token punctuation">.</span><span class="token function">setMapTypeId</span><span class="token punctuation">(</span>‘map_style’<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>E é isso, agora você já está apto para inserir um mapa, personalizar controles e pin, animar o pin e customizar as cores do seu mapa.
Veja o <a href="https://gist.github.com/thulioph/8153570">código completo aqui</a>!</p>
<h2>Referências</h2>
<ul>
<li><a href="https://developers.google.com/maps/documentation/javascript/tutorial?hl=pt-br/">https://developers.google.com/maps/documentation/javascript/tutorial?hl=pt-br</a></li>
<li>Photo by <a href="https://unsplash.com/@xavi_cabrera?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText">Xavi Cabrera</a> on <a href="https://unsplash.com/s/photos/maps?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText">Unsplash</a></li>
</ul>
<hr>
<p>O post ficou enorme, mas espero que eu tenha sido bastante claro e tenha conseguido transmitir da melhor forma este conteúdo pois a API não é difícil, consegui fazer isso tudo em um único dia e vocês também podem.
Qualquer dúvida ou se acha que fiz algo de errado, entre em contato comigo ou deixa nos comentários.</p></div><div class="blog-post-content"><h2>Read More</h2><section class="blog-post-actions"><a class="actions-link" href="/writings/pt/barra-nao-significa-fechar"><span class="label">Previous</span><p class="title">A barra não significa fechar</p></a><a class="actions-link" href="/writings/pt/bom-uso-redes-sociais"><span class="label">Next</span><p class="title">O Bom uso das Redes Sociais</p></a></section></div></div></section></main><footer class="footer"><div class="container"><aside class="footer-menu"><ul><a href="/about"><h4>About</h4><p>A little bit about me.</p></a><a href="/#talks"><h4>Talks</h4><p>Sharing knowledge.</p></a><a href="/projects"><h4>Projects</h4><p>Open-Source experiments.</p></a><a href="/writings"><h4>Blog</h4><p>Tech articles.</p></a></ul></aside><aside class="copyright"><p>© 2012–Today / Copyright Thulio Philipe. All rights reserved.</p></aside><aside class="since"><small>made with <span>♥</span> since<!-- --> <a href="https://web.archive.org/web/20130328062741/http://about.me/thulioph" rel="noopener noreferrer" target="_blank">2012</a></small></aside></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-69489589-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/writings/pt/google-maps-api-v3";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-0e97724caed6e63e6806.js"],"component---src-pages-404-js":["/component---src-pages-404-js-602d1e8931be8a07757e.js"],"component---src-pages-about-js":["/component---src-pages-about-js-3de622f1add83b7983b5.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6c978faaf87f9e4e698c.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-a2cf2b9ad31da4741276.js"],"component---src-pages-writings-js":["/component---src-pages-writings-js-435608b5a84c9b984ff6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-18bb4fd6e14523b108f8.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-18bb4fd6e14523b108f8.js" async=""></script><script src="/1dc921d01d6e70a2778fc7ab9300883edc8de929-0b0d0c28eb262f9e2bad.js" async=""></script><script src="/styles-9b6f388623a2ec93d35f.js" async=""></script><script src="/app-0e97724caed6e63e6806.js" async=""></script><script src="/framework-0204bf4e920e001ced67.js" async=""></script><script src="/webpack-runtime-4d48b1ed4dd3b6073575.js" async=""></script></body></html>